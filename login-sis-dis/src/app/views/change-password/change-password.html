<div class="change-password-container">
  <h2>Cambiar Contraseña</h2>

  <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Nueva contraseña</mat-label>
      <input matInput type="password" formControlName="newPassword">
      @if (changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched) {
        <mat-error>
          La nueva contraseña debe tener al menos 6 caracteres
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Confirmar nueva contraseña</mat-label>
      <input matInput type="password" formControlName="confirmPassword">
      @if (changePasswordForm.hasError('mismatch') && changePasswordForm.get('confirmPassword')?.touched) {
        <mat-error>
          Las contraseñas no coinciden
        </mat-error>
      }
    </mat-form-field>

    <div class="actions">
      <button mat-flat-button color="primary" type="submit">Guardar</button>
      <button mat-stroked-button color="warn" type="button" (click)="onCancel()">Cancelar</button>
    </div>
  </form>
</div>
